var jsonDoc;$.fn.clearAnim=function(e){$(this).removeClass("animate"),gsap.killTweensOf($(this)),void 0===e?gsap.set($(this),{clearProps:"all"}):gsap.set($(this),{clearProps:e})},$.fn.scale=function(e){void 0===e&&(e={}),void 0===e.delay&&(e.delay=0),void 0===e.alpha&&(e.alpha=1),$(this).get(0)&&gsap.fromTo($(this),2,{scale:.5,alpha:e.alpha,display:"block",ease:Power4.easeOut},{scale:1,alpha:e.alpha,display:"block",ease:Power4.easeOut,delay:e.delay})},$.fn.pulse=function(e){void 0===e&&(e={}),void 0===e.delay&&(e.delay=.4),void 0===e.alpha&&(e.alpha=.5),$(this).get(0)&&gsap.to($(this),{alpha:e.alpha,yoyo:!0,repeat:void 0===e.repeat?-1:e.repeat%2==0?e.repeat+=1:e.repeat+=2,ease:Power1.easeOut,delay:e.delay})},$.fn.pulseTwices=function(e,n){void 0===e&&(e=0),void 0===n&&(n=.6),$(this).get(0)&&gsap.to($(this),{alpha:.3,yoyo:!0,repeat:3,ease:Linear,duration:n,delay:e})},$.fn.ins=function(e){void 0===e&&(e=0),gsap.fromTo($(this),.4,{x:"-120%",alpha:0},{x:0,alpha:1,duration:.7,ease:Power1.linear}),gsap.to($(this),.25,{alpha:.3,yoyo:!0,repeat:1,ease:Power0.easeOut,delay:e+.5})};var urlData="../../json/",path=window.location.pathname;function loadLocalizableResources(e,n){urlData=e,$.getJSON(urlData).done((function(e){var o;o=e,$("body").trigger("jsonReady"),function(e){$.each(e,(function(e,n){window[n.key]=replaceServiceCharacters(n.data.value)})),"function"==typeof n&&n()}(o),doLocalize()})).fail((function(e,o,t){n()}))}function replaceServiceCharacters(e){return e=replaceAll(e,"[nbsp]","&nbsp;"),e=replaceAll(e,"[","<"),e=replaceAll(e,"]",">"),e=replaceAll(e,"\\n","<br>")}function replaceAll(e,n,o){for(var t=e.indexOf(n);-1!=t;)t=(e=e.replace(n,o)).indexOf(n);return e}function querySt(e){var n=window.location.href;KeysValues=n.split(/[\?&]+/);for(var o=0;o<KeysValues.length;o++){var t=KeysValues[o].split("=");if(t[0]==e)return t[1]}}function doLocalize(){$(("undefined"==typeof containerSelector?"":containerSelector+" ")+"[lcz]").each((function(){$(this).html(window[$(this).attr("lcz")])}))}$((function(){moduleStart.init()}));var navExit=$("#exit"),navMenu=$("#menu"),navMenuClose=$("#menu-close");function menuControl(){navExit.on("click",(function(){_goto("welcome-page")})),navMenu.on("click",(function(){openMenu()})),navMenuClose.on("click",(function(){closeMenu()}))}function openMenu(){$(".menu-overlay").fadeIn("fast"),gsap.fromTo(".menu",.5,{x:-50},{x:0,onComplete:function(){$(".menu").clearAnim()}})}function closeMenu(){gsap.to(".menu",.5,{x:-50,onComplete:function(){$(".menu").clearAnim()}}),$(".menu-overlay").fadeOut()}var cookieLanguage,userLanguage,BCP47LanguageTag,moduleStart={init:function(){moduleStart.setLang(),moduleStart.setFirstPage(),moduleStart.calculateScreen(),moduleStart.callMenu()},setLang:function(){if(GetURLParameter("_lang")?cookieLanguage=GetURLParameter("_lang"):(window.location="?_lang=en-gb",cookieLanguage="en-gb"),"en-gb"===cookieLanguage)userLanguage="English -(UK)",BCP47LanguageTag="en-GB";else cookieLanguage="en-gb",userLanguage="English (UK)",BCP47LanguageTag="en-GB";setCookie("lang",cookieLanguage,365),$("html").attr("lang",BCP47LanguageTag)},calculateScreen:function(){responsive()},setFirstPage:function(){loadLocalizableResources("data/"+getCookie("lang")+"/base.json",(function(){loadLocalizableResources("data/"+getCookie("lang")+"/menu.json",(function(){GetURLParameter("_goto")?_goto(GetURLParameter("_goto")):_goto("main-page-1")}))}))},callMenu:function(){menuControl()}},animationDuration=500;function loadPage(e,n,o,t){$("#content").fadeOut(animationDuration,(function(){$(this).empty().load(e,(function(){loadLocalizableResources("data/".concat(cookieLanguage,"/").concat(o),(function(){$.getScript(n,(function(){$("#content").fadeIn(animationDuration)}))})),inArrayMod(),"function"==typeof t&&t()}))}))}function _goto(e){loadPage("templates/".concat(e,".html"),"js/pages/".concat(e,".js"),"".concat(e,".json"))}function inArrayMod(){var e=$(".page").attr("id");["welcome-page","welcome-page-2"].includes(e)&&header.hide(),["welcome-page","welcome-page-2"].includes(e)?footer.hide():footer.fadeIn(animationDuration)}function responsive(){setScreen(),calculateScreenSize(),$(window).resize((function(){setScreen(),calculateScreenSize()}))}function setScreen(){var e=window.innerWidth,n=window.innerHeight;setHeight($("#main-container")),$("#main-container").css("width","100%"),isMobile&&!isTablet?$("#main-container").css("width",window.innerWidth):isTablet||e<=n&&e/3*4>=n?$("#main-container").css("width",1080*n/1920):e<=n?$("#main-container").css("width",window.innerWidth):$("#main-container").css("width",1080*n/1920)}function setHeight(e){var n=$(this).height();"string"==typeof mobileSafari&&(n+=60),e.css("height",n)}function calculateScreenSize(){var e,n=window.innerWidth,o=window.innerHeight;return isMobile&&!isTablet?(e=62.5*n/320,$("html").css("font-size",e+"%")):((n>=o||n<=o&&n/3*4>=o)&&(n=1080*o/1920),e=62.5*n/320,$("html").css("font-size",e+"%"))}function setCookie(e,n,o){var t=new Date;t.setTime(t.getTime()+24*o*60*60*1e3);var i="expires="+t.toUTCString();document.cookie=e+"="+n+"; "+i}function getCookie(e){for(var n=e+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){for(var i=o[t];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return""}function GetURLParameter(e){for(var n=window.location.search.substring(1).split("&"),o=0;o<n.length;o++){var t=n[o].split("=");if(t[0]==e)return t[1]}}function Video(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this;o.video="string"==typeof e?$(e).get(0):e.get(0),$(o.video).off(),o.option={pauseOnClose:void 0===n.pauseOnClose||n.pauseOnClose,fullScreen:void 0===n.fullScreen||n.fullScreen,subtitle:void 0!==n.subtitle?n.subtitle:null,preload:void 0===n.preload||n.preload,muted:void 0!==n.muted?n.muted:o.video.muted,loop:void 0!==n.loop?n.loop:o.video.loop,autoplay:void 0!==n.autoplay?n.autoplay:o.video.autoplay,controls:void 0!==n.controls?n.controls:o.video.controls},o.video.muted=o.option.muted,o.video.loop=o.option.loop,o.video.autoplay=o.option.autoplay,o.video.controls=o.option.controls,$(e).attr({preload:o.option.preload}),o.event={onStart:n.onStart||function(){},onPlay:n.onPlay||function(){},onPlaying:n.onPlaying||function(){},onSeek:n.onSeek||function(){},onSeeking:n.onSeeking||function(){},onUpdate:n.onUpdate||function(){},onPause:n.onPause||function(){},onEnd:n.onEnd||function(){},onExitFullScreen:n.onExitFullScreen||function(){}},o.options=function(e,n){o.event[e]&&"function"==typeof n&&(o.event[e]=n)},o.option.subtitle&&(audioOrVideo.readyState>0?(track=document.createElement("track"),track.kind="subtitles",track.label=getCookie("lang"),track.srclang=getCookie("lang"),track.src=o.option.subtitle,track.default="default",track.addEventListener("load",(function(){this.mode="showing",o.video.textTracks[0].mode="showing"})),o.video.appendChild(track)):o.video.addEventListener("loadedmetadata",(function(){track=document.createElement("track"),track.kind="subtitles",track.label=getCookie("lang"),track.srclang=getCookie("lang"),track.src=o.option.subtitle,track.default="default",track.addEventListener("load",(function(){this.mode="showing",o.video.textTracks[0].mode="showing"})),this.appendChild(track)}))),o.openFullscreen=function(){o.video.requestFullscreen?o.video.requestFullscreen():o.video.mozRequestFullScreen?o.video.mozRequestFullScreen():o.video.webkitEnterFullscreen?o.video.webkitEnterFullscreen():o.video.msRequestFullscreen&&o.video.msRequestFullscreen()},o.exitFullscreen=function(){(document.fullscreenElement||document.mozFullScreenElement||o.video.webkitDisplayingFullscreen||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():o.video.webkitExitFullscreen?o.video.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())},o.play=function(){if(/MSIE|Trident/.test(navigator.userAgent))o.video.play(),o.event.onStart(),o.option.fullScreen&&o.openFullscreen();else{var e=o.video.play();void 0!==e?e.then((function(e){o.event.onStart(),o.option.fullScreen&&o.openFullscreen()})).catch((function(e){console.info(e),$("#mute").show(),o.video.muted=!0,o.video.play(),o.event.onStart(),o.option.fullScreen&&o.openFullscreen()})):($("#mute").show(),o.video.muted=!0,o.event.onStart(),o.option.fullScreen&&o.openFullscreen())}},o.pause=function(){o.video.pause()},$(window).on("resize",(function(){var e=/MSIE|Trident/.test(navigator.userAgent),n=document.msFullscreenElement;e&&!n&&o.option.pauseOnClose&&(o.video.pause(),o.event.onExitFullScreen())})),$(o.video).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",(function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&o.option.pauseOnClose&&(o.video.pause(),o.event.onExitFullScreen())})),$(o.video).on("webkitendfullscreen",(function(){/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(navigator.userAgent)&&o.option.pauseOnClose&&(o.video.pause(),o.event.onExitFullScreen())})),$(o.video).on("play",(function(){o.event.onPlay()})),$(o.video).on("playing",(function(){o.event.onPlaying()})),$(o.video).on("seeking",(function(){o.event.onSeeking()})),$(o.video).on("seeked",(function(){o.event.onSeek()})),$(o.video).on("timeupdate",(function(){o.event.onUpdate()})),$(o.video).on("ended",(function(){o.exitFullscreen(),o.event.onEnd()})),$(o.video).on("pause",(function(){o.event.onPause()}))}function addVideo(e,n,o,t,i,a,l,c,u){var r=$("<div>",{id:o,height:i}).appendTo(e),s=$('<video allow="autoplay" autobuffer="auto" preload '+l+" "+u+c+' height="'+i+'" width="'+t+'" id="videoplay'+a+'">',{}).css({display:"block",margin:"0 auto"}).appendTo(r);$("<source>",{src:n+".mp4",type:"video/mp4"}).appendTo(s),$("<source>",{src:n+".webm",type:"video/webm"}).appendTo(s),$("<source>",{src:n+".ogv",type:"video/ogv"}).appendTo(s),$("<div>",{}).appendTo(r).addClass("videoSubBar")}function openFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function exitFullscreen(e){var n=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msExitFullscreen,o=/iPad|iPhone|iPod/i.test(navigator.userAgent);n?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():o&&e.webkitExitFullscreen()}var isMobile=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(navigator.userAgent),isTablet=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(navigator.userAgent),header=$("#header"),footer=$("#footer");